// egnyte-widget v0.1.1 (2014-04-24) 
// license:MIT 
// ztenerowicz 
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,function(a){a=a||window.event,a.target||(a.target=a.srcElement),c.call(this,a)})},removeListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},createFrame:function(a){var b=document.createElement("iframe");return b.setAttribute("scrolling","no"),b.style.width="100%",b.style.height="100%",b.style.minWidth="400px",b.style.minHeight="400px",b.style.border="1px solid #dbdbdb",b.src=a,b}}},{}],2:[function(a){!function(){"use strict";function b(b,e){return d=c.extend(d,e),d.egnyteDomainURL=c.normalizeURL(b),{domain:d.egnyteDomainURL,filePicker:a("./filepicker")(d)}}var c=a("./helpers"),d={};window.EgnyteWidget={init:b}}()},{"./filepicker":3,"./helpers":4}],3:[function(a,b){!function(){function c(a,b){a.handler=h.createMessageHandler(a.sourceOrigin,a.marker,b),g.addListener(window,"message",a.handler)}function d(a,b){g.removeListener(window,"message",a.handler),b.parentNode&&b.parentNode.removeChild(b)}function e(a,b){return function(c){var d;if(c.action)switch(b.hasOwnProperty(c.action)&&b[c.action].call&&(d=b[c.action](c.data)),c.action){case"selection":d!==!1&&a();break;case"cancel":a()}}}function f(a){var b,f=!1;return a=h.extend(i,a),b=function(b,i,j){var k,l={marker:a.channelMarker,sourceOrigin:a.egnyteDomainURL},m=function(){a.openAt&&h.sendMessage(k.contentWindow,l,"openAt",a.openAt)},n=function(){d(l,k)},o=function(b){a.openAt=b,f&&m()};return k=g.createFrame(a.egnyteDomainURL+"/"+a.filepickerViewAddress),c(l,e(n,{selection:i,cancel:j,ready:function(){f=!0,m()}})),b.appendChild(k),{close:n,openAt:o}}}var g=a("./dom"),h=a("./helpers"),i={filepickerViewAddress:"folderExplorer.html",channelMarker:"'E"};b.exports=f}()},{"./dom":1,"./helpers":4}],4:[function(a,b){function c(a){return a.replace(/\/*$/,"")}function d(a,b,d){return function(e){if(!a||c(e.origin)===c(a)){var f=e.data;if(f.substr(0,2)===b){try{f=g(f.substring(2))}catch(h){}f&&d(f)}}}}function e(a,b,c,d){var e="*";if("string"!=typeof d||"string"!=typeof c)throw new TypeError("only string is acceptable as action and data");try{e=a.location.origin}catch(f){}d=d.replace(/"/gm,'\\"').replace(/(\r\n|\n|\r)/gm,""),a.postMessage(b.marker+'{"action":"'+c+'","data":"'+d+'"}',e)}function f(a){var b,c;for(b=1;b<arguments.length;b++)if(arguments[b])for(c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}var g=JSON&&JSON.parse?JSON.parse:a("./json_parse_state");b.exports={extend:f,normalizeURL:c,parse_json:g,createMessageHandler:d,sendMessage:e}},{"./json_parse_state":5}],5:[function(a,b){b.exports=function(){"use strict";function a(a){return a.replace(/\\(?:u(.{4})|([^u]))/g,function(a,b,c){return b?String.fromCharCode(parseInt(b,16)):g[c]})}var b,c,d,e,f,g={"\\":"\\",'"':'"',"/":"/",t:"	",n:"\n",r:"\r",f:"\f",b:"\b"},h={go:function(){b="ok"},firstokey:function(){e=f,b="colon"},okey:function(){e=f,b="colon"},ovalue:function(){b="ocomma"},firstavalue:function(){b="acomma"},avalue:function(){b="acomma"}},i={go:function(){b="ok"},ovalue:function(){b="ocomma"},firstavalue:function(){b="acomma"},avalue:function(){b="acomma"}},j={"{":{go:function(){c.push({state:"ok"}),d={},b="firstokey"},ovalue:function(){c.push({container:d,state:"ocomma",key:e}),d={},b="firstokey"},firstavalue:function(){c.push({container:d,state:"acomma"}),d={},b="firstokey"},avalue:function(){c.push({container:d,state:"acomma"}),d={},b="firstokey"}},"}":{firstokey:function(){var a=c.pop();f=d,d=a.container,e=a.key,b=a.state},ocomma:function(){var a=c.pop();d[e]=f,f=d,d=a.container,e=a.key,b=a.state}},"[":{go:function(){c.push({state:"ok"}),d=[],b="firstavalue"},ovalue:function(){c.push({container:d,state:"ocomma",key:e}),d=[],b="firstavalue"},firstavalue:function(){c.push({container:d,state:"acomma"}),d=[],b="firstavalue"},avalue:function(){c.push({container:d,state:"acomma"}),d=[],b="firstavalue"}},"]":{firstavalue:function(){var a=c.pop();f=d,d=a.container,e=a.key,b=a.state},acomma:function(){var a=c.pop();d.push(f),f=d,d=a.container,e=a.key,b=a.state}},":":{colon:function(){if(Object.hasOwnProperty.call(d,e))throw new SyntaxError('Duplicate key "'+e+'"');b="ovalue"}},",":{ocomma:function(){d[e]=f,b="okey"},acomma:function(){d.push(f),b="avalue"}},"true":{go:function(){f=!0,b="ok"},ovalue:function(){f=!0,b="ocomma"},firstavalue:function(){f=!0,b="acomma"},avalue:function(){f=!0,b="acomma"}},"false":{go:function(){f=!1,b="ok"},ovalue:function(){f=!1,b="ocomma"},firstavalue:function(){f=!1,b="acomma"},avalue:function(){f=!1,b="acomma"}},"null":{go:function(){f=null,b="ok"},ovalue:function(){f=null,b="ocomma"},firstavalue:function(){f=null,b="acomma"},avalue:function(){f=null,b="acomma"}}};return function(d,e){var g,k=/^[\x20\t\n\r]*(?:([,:\[\]{}]|true|false|null)|(-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)|"((?:[^\r\n\t\\\"]|\\(?:["\\\/trnfb]|u[0-9a-fA-F]{4}))*)")/;b="go",c=[];try{for(;g=k.exec(d),g;)g[1]?j[g[1]][b]():g[2]?(f=+g[2],i[b]()):(f=a(g[3]),h[b]()),d=d.slice(g[0].length)}catch(l){b=l}if("ok"!==b||/[^\x20\t\n\r]/.test(d))throw b instanceof SyntaxError?b:new SyntaxError("JSON");return"function"==typeof e?function m(a,b){var c,d,f=a[b];if(f&&"object"==typeof f)for(c in f)Object.prototype.hasOwnProperty.call(f,c)&&(d=m(f,c),void 0!==d?f[c]=d:delete f[c]);return e.call(a,b,f)}({"":f},""):f}}()},{}]},{},[2]);